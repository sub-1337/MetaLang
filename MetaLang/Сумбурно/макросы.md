Макросы в этом языке используются для метопрограммирования и генерации кода.

Золотое правило - если это можно сделать небезопасными уродливыми макросами как в c/c++ это можно сделать безопасно средствами языка.

Ситуации применения макросов которые нужно адекватно реализовать:

1. Использование определённого куска кода, одного вместо другого.
    
2. Компиляция один раз (не известно может ли быть компиляция более 1го раза).
    
3. Константы.
    
4. Алиасы
    
5. Функции, тесно встраивыемые в точку вызова.
    
6. Функции ассерты.
    
7. Тесты.
    
8. Код, выполняющий связывание. Как например в mfc.
    
9. Код, встраивающий базовые члены для класса, которые должны быть в любом классе определённого подвида.
    
10. Использование задания типа api функции (компиляция/импорт в из бибиблиотеки).
    
11. Вообще любое упрощение идеи, описанной кодом (это весьма туманно)
    

Решения:

1) директива region

```
// test.mt
region "TestReg"
{
    var a = 10;
}

// client.mt
import test
func RegionExample()
{
    use region(test."TestReg");
    print(a); // Выведет 10
}

```

4) Алиасы

Можно задать алиас для имени объекта, который пока даже не существует.

Для этого нужен инструмент языка.

```
var<ref opt> Test = opt _test;
```

В данном случае мы используем директиву opt (optional) чтобы объект _test мог не существовать на момент объявления алиаса.

```
if (Test.exist())
{
//
}
```

Проверка существования объекта.